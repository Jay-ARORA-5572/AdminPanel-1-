<div class="p-dialog p-component p-fluid">
  <div class="p-dialog-header">
      <span class="p-dialog-title">Add Class</span>
      <span class="close-icon">
      <i class="pi pi-times cross" (click)="closeDialog()"></i>
    </span>

  </div>
  
  <div class="p-dialog-content">
  <form #addClassForm="ngForm" (ngSubmit)="onSubmit(addClassForm)" novalidate>
    
    <div class="form-group">
      <div class="topic-label">
        <label for="topic">Class Topic:</label>
      </div>
      <textarea 
        id="topic" 
        name="topic" 
        [(ngModel)]="selectedTopic" 
        required 
        placeholder="Enter topic of Class..." 
        maxlength="50" 
        [ngClass]="{'invalid': addClassForm.submitted && !selectedTopic}" 
        [style]="{'width':'100%'}">
      </textarea>
      <span class="character-count">{{ selectedTopic?.length || 0 }}/50</span>
      <div *ngIf="addClassForm.submitted && !selectedTopic" class="error">
        Please enter a topic.
      </div>
    </div>
    

    
    

    <div class="file-upload">
      <span class="file-name">No file selected</span>
      <label for="fileInput" class="custom-file-upload">
        <i class="pi pi-upload"></i> Upload File
      </label>
      <input type="file" id="fileInput" (change)="onFileSelected($event)"   class="custom-file-input" accept=".png, .jpg, .jpeg, .pdf" multiple>
    </div>
    
    
    
    <div class="form-group">
      <div class="topic-label"> <label for="course">Course:</label></div>
      <p-dropdown
        [options]="course"
        [(ngModel)]="selectedCourse"
        name="course"
        required
        placeholder="Select Course"
        (onChange)="onCourseChange($event)"
        [style]="{'width':'100%'}"
        [ngClass]="{'invalid': addClassForm.submitted && !selectedCourse}">
      </p-dropdown>
      <div *ngIf="addClassForm.submitted && !selectedCourse" class="error">Please select a course.</div>
    </div>
    
    <div class="form-group">
      <div class="topic-label"> <label for="subject">Subject:</label></div>
      <p-dropdown 
        id="subject" 
        name="subject" 
        [options]="subjects" 
        [(ngModel)]="selectedSubject" 
        required
        placeholder="Select Subject" 
        [ngClass]="{'invalid': addClassForm.submitted && !selectedSubject}"
        [style]="{'width':'100%'}">
      </p-dropdown>
      <div *ngIf="addClassForm.submitted && !selectedSubject" class="error">Please select a subject.</div>
    </div>

    <div class="form-group">
      <div class="topic-label"> <label for="batch">Batch:</label></div>
      <p-dropdown 
        id="batch" 
        name="batch" 
        [options]="batches" 
        [(ngModel)]="selectedBatch" 
        required
        placeholder="Select Batch" 
        [ngClass]="{'invalid': addClassForm.submitted && !selectedBatch}"
        [style]="{'width':'100%'}">
      </p-dropdown>
      <div *ngIf="addClassForm.submitted && !selectedBatch" class="error">Please select a batch.</div>
    </div>

    <div class="topic-label"><label>Class Schedule</label></div>
    <div class="schedule-container">
      <div class="date-container">
        <input type="date" name="classDate" ngModel required #classDate="ngModel">
        <div *ngIf="classDate.invalid && classDate.touched" class="error">Class Date is required.</div>
      </div>
      <div class="date-container">
        <input type="time" name="classTime" ngModel required #classTime="ngModel">
        <div *ngIf="classTime.invalid && classTime.touched" class="error">Class Time is required.</div>
      </div>
    </div>
    
  
    <div class="button">
      <button class="login" mat-raised-button>Add Class</button>
      &nbsp;
      &nbsp;
      <button class="cancel" mat-raised-button>Close</button>
  </div>

  </form>
</div>
</div>

<!-- Toaster Notification -->

